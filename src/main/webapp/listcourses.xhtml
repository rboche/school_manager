<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <link rel="stylesheet" type="text/css" href="webjars/bootstrap/3.3.6/css/bootstrap.min.css"/>

            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Courses</title>
            </f:facet>
            <f:facet name="last">
                <link rel="stylesheet" type="text/css" href="css/app.css"/>
            </f:facet>
        </h:head>

        <h:body>
            <nav class="navbar navbar-inverse" style="border-radius: 0px">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <a class="navbar-brand"  href="/school_manager"><img src="img/logo_utbm.png" style="max-width: 100px; max-height: 100px; margin-top: -20px"/></a>
                    </div>

                    <ul class="nav navbar-nav">
                        <li><a href="/school_manager/listcourses.xhtml">Our Courses <span class="glyphicon glyphicon-book"></span></a></li>
                        <li><a href="/school_manager/searchSessions.xhtml">Search sessions <span class="glyphicon glyphicon-search"></span></a></li>
                        <li><a href="#">About us</a></li>
                    </ul>
                </div>
            </nav>

            <div id="pageContent" class="container">
                <h:form>
                    <p:dataTable var="course" value="#{courseMB.courses}" widgetVar="coursesTable"
                                 paginator="true" rows="5"
                                 filteredValue="#{courseMB.filteredCourses}"
                                 >
                        <p:column headerText="Course title" filterBy="#{course.title}" filterMatchMode="contains">
                            <h:outputText value="#{course.title}"/>
                        </p:column>
                        <p:column headerText="View sessions" style="width: 200px">
                            <p:button outcome="sessionsForCourse" icon="ui-icon-search">
                                <f:param name="courseId" value="#{course.code}"/>
                                <f:param name="courseTitle" value="#{course.title}"/>
                            </p:button>
                        </p:column>
                    </p:dataTable>
                </h:form>
            </div>

            <script type="text/javascript" src="webjars/jquery/1.11.1/jquery.min.js"/>
            <script type="text/javascript" src="webjars/bootstrap/3.3.6/js/bootstrap.min.js"/>
        </h:body>

    </f:view>
</html>
